<html>
    <head>
        <title>filters</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        
        <script>
        $(document).ready( function (){
          $("#btnGetUser").click(function(){
                    alert("clicked");
                   	
					if ($('#' + "smoke").is(":checked")){
					 
						var smoke=document.getElementById("smoke").value;}
						
					else{
							var smoke=0;
					}
					
					
					if ($('#' + "space").is(":checked")){
					 
						var space=document.getElementById("space").value;}
						
					else{
							var space=0;
					}
					
					
					if ($('#' + "pet").is(":checked")){
					 
						var pet=document.getElementById("pet").value;}
						
					else{
							var pet=0;
					}
					
				var gender= $(":radio[name=gender]:checked").val();
                    
                    
                    var theData="smoke="+smoke+"&"+"space="+space+"&pet="+pet+"&gender="+gender;
                    alert("Sending: "+theData);
                    
                    var theUrl="http://localhost:8080/myapp/resources/w2/filterUsers";
                    
                    $.ajax({
                        url:theUrl,
                        type:"POST",
                        dataType:"text",
                        contentType:"application/x-www-form-urlencoded",
                        data: theData,
                        
                        
                        success:
                            function(result,status,jqxhr){
                            alert("Success: "+status);
                            
                            var ingArray=JSON.parse(result);
                            alert(ingArray);
                            var output="<h3>Just added</h3>";
                            
                            output+="<ul> <p>success</p>";
                            
                            for(var i=0; i<ingArray.length; i++){
                                    output +="<li><a href= http://localhost:8080/myapp/resources/w2/"++"complete for url"+ target="_blank">"+ ingArray[i].name+"</a></li>"; }
                                output+="</ul>";
                                alert(output);
                                $("#p_show").html(output);
                            
                            },
                            
                            error:
                                function(xhr, status, errorThrown){
                                
                                    alert("error: "+status+" e: "+errorThrown);
                                    $("#p_show").html("Error: "+xhr.status+" "+xhr.statusText);
                                }
                    
                    })
                    
                
                
                
                
                })
                
                
                
           });       
            
        </script>
        
    </head> 
	
    <body>
	
	
    <div id="setfiter2">
		
        <input type="checkbox" id="smoke" name="chk_box2"
       value="1" /> Do you smoke? </br>
	  
        <input type="checkbox" id="space" name="chk_box2"
       value="1" /> Does your vehicle have space?</br>
	   
	   <input type="checkbox" id="pet" name="chk_box2"
       value="1" /> Do you ride with, or be willing to ride with pets?</br>
	 
	   
	   <input type="radio" id="gender" name="gender" value="1" /> Male
	   <input type="radio" id="gender" name="gender" value="0" checked="checked" /> Female</br>
       
        <button id="btnGetUser">Click to search for users</button>
       
       
    </div>
	
	<div><p id="p_show"></p></div>
    
    </body>
</html> 
